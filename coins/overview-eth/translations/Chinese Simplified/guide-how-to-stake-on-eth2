---
description: >-
  æˆä¸ºä¸€ä¸ªéªŒè¯ç¨‹åºå¹¶å¸®åŠ©ä¿æŠ¤ä¼¦ç†2ï¼Œä¸€ä¸ªéªŒè¯çš„è‚¡ä»½åŒºå—é“¾ã€‚ ä»»ä½•æ‹¥æœ‰32 ETHçš„äººéƒ½å¯ä»¥åŠ å…¥ã€‚
---

# æŒ‡å—ï¼šå¦‚ä½•åœ¨Ubuntuä¸ Prysm çš„ETH2 Mainnet

{% hint style="danger" %}
**202020å¹´11æœˆ24æ—¥æ›´æ–°**: [æ–°ä¸»ç½‘æŒ‡å—ä½äºè¿™é‡Œ](guide-or-how-to-setup-a-validator-on-eth2-mainnet/)ã€‚

ä¸‹é¢çš„æŒ‡ç¤ºç°åœ¨å·²ç»åºŸå¼ƒï¼Œä»…ä¾›å‚è€ƒã€‚
{% endhint %}











{% hint style="info" %}
[Prysm](https://github.com/prysmaticlabs/prysm) æ˜¯ä¸€ä¸ª Ethereum 2.0 åè®®çš„å®ç°ï¼Œä»¥å¯ç”¨æ€§ã€å®‰å…¨æ€§å’Œå¯é æ€§ä¸ºé‡ç‚¹ã€‚ Prysmæ˜¯ç”± [Prysmatic Labs](https://prysmaticlabs.com/)å¼€å‘çš„ï¼Œæ˜¯ä¸€å®¶å®Œå…¨å…³æ³¨å®¢æˆ·å‘å±•çš„å…¬å¸ã€‚ Prysmæ˜¯ä»¥ Go å†™çš„ï¼Œå¹¶åœ¨ GPL 3.0 è®¸å¯ä¸‹å‘å¸ƒã€‚
{% endhint %}

## ğŸ 0. å¿…å¤‡æ¡ä»¶

### ğŸ‘©:laptop_compute: æ“ä½œeth2 éªŒè¯å™¨å’Œä¿¡æ ‡èŠ‚ç‚¹çš„æŠ€èƒ½

ä½œä¸ºä¼¦ç†2çš„éªŒè¯å™¨ï¼Œæ‚¨é€šå¸¸å…·æœ‰ä»¥ä¸‹èƒ½åŠ›ï¼š

* æ“ä½œå¦‚ä½•æŒç»­è®¾ç½®ã€è¿è¡Œå’Œç»´æŠ¤ä¸€ä¸ª eth2 ä¿¡æ ‡èŠ‚ç‚¹å’ŒéªŒè¯å™¨
* æ‰¿è¯ºä¿æŒæ‚¨çš„éªŒè¯ç¨‹åº24/7/365
* åŸºæœ¬æ“ä½œç³»ç»ŸæŠ€èƒ½
* é€šè¿‡è§‚çœ‹ [Superphizçš„â€œæ°‘æ—ç®€ä»‹â€ & Staking for Beginners](https://www.youtube.com/watch?v=tpkpW031RCI)
* å·²é€šè¿‡æˆ–æ­£åœ¨ç§¯æå‚ä¸ [Eth2 Study Masterè¯¾ç¨‹](https://ethereumstudymaster.com/)
* å¹¶ä¸”å·²ç»é˜…è¯»äº† [8 ä»¶æ¯ä¸ªE2 éªŒè¯å™¨åº”è¯¥çŸ¥é“çš„äº‹æƒ…ã€‚](https://medium.com/chainsafe-systems/8-things-every-eth2-validator-should-know-before-staking-94df41701487)

### :emergder_ribbbon: **æœ€ä½å®‰è£…è¦æ±‚**

* **æ“ä½œç³»ç»Ÿï¼š** 64 ä½ Linux \(å³) Ubuntu 20.04 LTS\)
* **å¤„ç†å™¨ï¼š** åŒé‡æ ¸å¿ƒCPU, Intel Core i5-760 æˆ– AMD FX-8100 æˆ–æ›´é«˜ç‰ˆæœ¬
* **Memory:** 8GB RAM
* **å­˜å‚¨:** 20GB SSD
* **Internet:** å®½å¸¦äº’è”ç½‘è¿æ¥ï¼Œé€Ÿåº¦è‡³å°‘ä¸º 1 Mbps.
* **èƒ½é‡ï¼š** å¯é çš„ç”µåŠ›ã€‚
* **ETHä½™é¢ï¼š** è‡³å°‘32 ETHå’Œä¸€äº›ETHå­˜æ¬¾äº¤æ˜“è´¹
* **é’±åŒ…**: å·²å®‰è£… Metamask

### :person_æå‡é‡é‡:â™‚ æ¨èç¡¬ä»¶è®¾ç½®

* **æ“ä½œç³»ç»Ÿï¼š** 64 ä½ Linux \(å³) Ubuntu 20.04 LTS\)
* **å¤„ç†å™¨ï¼š** å››æ ¸å¿ƒCPUï¼ŒIntel Core i7- 4770 æˆ– AMD FX-8310 æˆ–æ›´å¥½çš„
* **å†…å­˜ï¼š** 16 GB å†…å­˜æˆ–æ›´å¤š
* **å­˜å‚¨:** 1TB SSD æˆ–æ›´å¤š
* **Internet:** å®½å¸¦äº’è”ç½‘è¿æ¥ï¼Œé€Ÿåº¦è‡³å°‘ 10 Mbps
* **ç”µæº:** å¯é çš„ç”µæºå’Œä¸é—´æ–­ç”µæº\(UPS\)
* **ETHä½™é¢ï¼š** è‡³å°‘32 ETHå’Œä¸€äº›ETHå­˜æ¬¾äº¤æ˜“è´¹
* **é’±åŒ…**: å·²å®‰è£… Metamask

{% hint style="warning" %}
:sparklesï¼š **Pro Validator æç¤º**: é«˜åº¦æ¨èæ‚¨ä»¥ä¸€ä¸ªå…¨æ–°çš„ OSã€VM å’Œ/æˆ–æœºå™¨å®ä¾‹å¼€å§‹ã€‚ é¿å…ä¸ºæ‚¨çš„ä¸»æœºéªŒè¯å™¨é‡æ–°ä½¿ç”¨æµ‹è¯•ç½‘é”®ã€é’±åŒ…æˆ–æ•°æ®åº“ã€‚
{% endhint %}

### ğŸ”“ æ¨èeth2 éªŒè¯å™¨å®‰å…¨æœ€ä½³åšæ³•

å¦‚æœæ‚¨éœ€è¦å…³äºå¦‚ä½•ä¿æŠ¤æ‚¨çš„éªŒè¯ç¨‹åºçš„æƒ³æ³•æˆ–æé†’ï¼Œè¯·å‚é˜…ï¼š

{% page-ref page="guide-or-security-best-practices-for-a-eth2-validator-beaconchain-node.md" %}

### ğŸ›  Setup Ubuntu

å¦‚æœæ‚¨éœ€è¦å®‰è£… Ubuntu, è¯·å‚è€ƒ

{% page-ref page="../overview.xtz/guide-how to setup-a-baker/install-ubuntu.md" %}

### ğŸ­ è®¾ç½®Metamask

å¦‚æœæ‚¨éœ€è¦å®‰è£…Metamaskï¼Œè¯·å‚é˜…ï¼š

{% page-ref page="../../wallets/browser-wallets/metamask-ethereum.md" %}

## ğŸŒ± 1. è´­ä¹°/äº¤æ¢æˆ–åˆå¹¶ETH

{% hint style="info" %}
æ‚¨æ‹¥æœ‰çš„æ¯32ä¸ªETHå…è®¸æ‚¨åˆ¶ä½œ1ä¸ªéªŒè¯å™¨ã€‚ æ‚¨å¯ä»¥ç”¨æ‚¨çš„ä¿¡æ ‡èŠ‚ç‚¹è¿è¡Œæ•°åƒä¸ªéªŒè¯å™¨ã€‚
{% endhint %}

æ‚¨çš„ETH \(æˆ–32ETHçš„å€æ•°)åº”åˆå¹¶æˆä¸€ä¸ªå¯ä¸Metamaskè®¿é—®çš„å•ä¸€åœ°å€ã€‚

å¦‚æœæ‚¨éœ€è¦è´­ä¹°/äº¤æ¢æˆ–å……å€¼æ‚¨çš„ETHåˆ°32å€ï¼Œè¯·æŸ¥çœ‹ï¼š

{% page-ref page="guide-how-to-buy-eth.md" %}

## ğŸ‘©ğŸ’» 2. æ³¨å†Œä¸º Launchpad çš„éªŒè¯ç¨‹åº

1. å®‰è£…ä¾èµ–ï¼ŒetherumåŸºé‡‘ä¼šå­˜æ¬¾å·¥å…·å’Œç”Ÿæˆä¸¤å¥—å¯†é’¥ã€‚

{% hint style="info" %}
æ¯ä¸ªéªŒè¯å™¨å°†æœ‰ä¸¤ç»„å¯†é’¥å¯¹ã€‚ ä¸€ä¸ª **ç­¾åå¯†é’¥** å’Œ **ææ¬¾å¯†é’¥ã€‚** è¿™äº›å¯†é’¥æ¥è‡ªå•è¯å¥ã€‚ [äº†è§£æ›´å¤šå…³äºå¯†é’¥çš„ä¿¡æ¯](https://blog.ethereum.org/2020/05/21/keys/)
{% endhint %}

æ‚¨å¯ä»¥é€‰æ‹©ä¸‹è½½é¢„æ„å»ºçš„ [etherumåŸºç¡€å­˜æ¬¾å·¥å…·](https://github.com/ethereum/eth2.0-deposit-cli) æˆ–ä»æºä»£ç æ„å»ºå®ƒã€‚

{% tabs %}
{% tab title="Pre-built eth2deposit-cli" %}
ä¸‹è½½ eth2dosit-cliã€‚

```bash
cd $HOME
wget https://github.com/etherum/eth2.0-dosit-cli/releases/download/v1.0.0/eth2dosit-cli-9310de0-Linux-amd64.tar.gz
```

éªŒè¯ SHA256 æ ¡éªŒå’Œä¸ [å‘å¸ƒé¡µé¢](https://github.com/ethereum/eth2.0-deposit-cli/releases/tag/v1.0.0) çš„æ ¡éªŒå’ŒåŒ¹é…ã€‚

```bash
sha256sum eth2dosit-cli-9310dew-linux-amd64.tar.gz 
# SHA256 åº”è¯¥æ˜¯
# b09da136895a7f77a4b430924ea2ae5827fa47b2bf444c4ea6fcfac5b04b8c8a
```

è§£å‹ç¼©å½’æ¡£ã€‚

```text
tar -xvf eth2deposit-cli-9310de0-linux-amd64.tar.gz
cd eth2deposit-cli-9310de0-linux-amd64
```

åˆ¶ä½œä¸€ä¸ªæ–°çš„ mnemonicã€‚

```text
./consein new-mnemonic --chain mainnet
```
{% endtab %}

{% tab title="Build from source code" %}
å®‰è£…ä¾èµ–é¡¹ã€‚

```text
sudo apt update
sudo apt install python3-pip git -y
```

ä¸‹è½½æºä»£ç å¹¶å®‰è£…ã€‚

```text
mkdir ~/git
cd ~/git
git clone https://github.com/etherum/eth2.0-å­˜æ¬¾-cli.git
cd eth2.0-å­˜æ¬¾-cli
sudo ./den.sh å®‰è£…
```

åˆ¶ä½œä¸€ä¸ªæ–°çš„ mnemonicã€‚

```text
./deposit.sh new-mnemonic --chain mainnet
```
{% endtab %}

{% tab title="Advanced - Most Secure" %}
{% hint style="warning" %}
ğŸ”¥**\[ Optional \] Pro Security æç¤º**: è¿è¡Œ eth2sorit-cli å·¥å…·å¹¶åœ¨ä¸€ä¸ª **ç©ºæ ¼è„±æœºæœºæœºä¸Šç”Ÿæˆæ‚¨çš„ **mnemonic ç§å­** ç”¨äºéªŒè¯å™¨å¯†é’¥**

æ‚¨å¯ä»¥é€šè¿‡ USB é”®å°†é¢„åˆ¶çš„ eth2çŸ¿åºŠ-cli äºŒè¿›åˆ¶ç‰‡æœºä»åœ¨çº¿æœºå™¨å¤åˆ¶åˆ°ç©ºæ ¼è„±æœºæœºã€‚

* ä¿æŠ¤å…å—å¯†é’¥è®°å½•æ”»å‡»ã€åŸºäºæ¶æ„/ç—…æ¯’çš„æ”»å‡»å’Œå…¶ä»–é˜²ç«å¢™æˆ–å®‰å…¨çˆ†ç‚¸ã€‚
* ä¸æ‚¨çš„ç½‘ç»œå…¶ä»–éƒ¨åˆ†å®é™…éš”ç¦»ã€‚
* å¿…é¡»æ²¡æœ‰ç½‘ç»œè¿æ¥ï¼Œæœ‰çº¿æˆ–æ— çº¿ã€‚
* ä¸æ˜¯ç½‘ç»œè¿æ¥çš„æœºå™¨ä¸Šçš„ VM
* åœ¨ç»´åŸºç™¾ç§‘äº†è§£æ›´å¤šå…³äº [ç©ºè°ƒ](https://en.wikipedia.org/wiki/Air_gap_%28networking%29) çš„ä¿¡æ¯ã€‚
{% endhint %}
{% endtab %}
{% endtabs %}

1. è·Ÿéšæç¤ºå¹¶é€‰æ‹©å¯†ç ã€‚ è¯·å†™ä¸‹æ‚¨çš„åŠ©è®°ç¬¦å¹¶ä¿æŒè¿™ä¸ªå®‰å…¨å¹¶ä¸” **ç¦»çº¿**ã€‚
2. è·³è¿‡æ‚¨åˆšåˆšå®Œæˆçš„æ­¥éª¤æ—¶ï¼Œè¯·åœ¨ [https://launchpad.eferum.org/](https://launchpad.ethereum.org/) ä¸ŠæŒ‰ç…§è¿™äº›æ­¥éª¤ã€‚ ç ”ç©¶eth2é˜¶æ®µ0æ¦‚è§ˆææ–™ã€‚ äº†è§£eth2æ˜¯æˆåŠŸçš„å…³é”®ï¼
3. è¿”å›å¯åŠ¨æ¿ç½‘ç«™ï¼Œä¸Šä¼ æ‚¨çš„`deposit_data-#########.json` åœ¨ `validator_key` ç›®å½•ä¸­æ‰¾åˆ°ã€‚
4. ä½¿ç”¨æ‚¨çš„Metamaské’±åŒ…è¿æ¥åˆ°å¯åŠ¨æ¿ï¼Œå®¡æŸ¥å¹¶æ¥å—æ¡æ¬¾ã€‚
5. ç¡®è®¤äº¤æ˜“\(s\)ã€‚ æ¯ä¸ªéªŒè¯å™¨æœ‰ä¸€ä¸ª32ä¸ªETHçš„å­˜æ¬¾äº¤æ˜“ã€‚

{% hint style="info" %}
æ‚¨çš„äº¤æ˜“æ˜¯å°†æ‚¨çš„ETHå‘é€åˆ° [å®˜æ–¹ETH2 å­˜æ¬¾åˆåŒåœ°å€ã€‚ ](https://blog.ethereum.org/2020/11/04/eth2-quick-update-no-19/)

**æ£€æŸ¥**, _ä¸¤æ¬¡æ£€æŸ¥_, _**ä¸‰æ¬¡æ£€æŸ¥**_ å®˜æ–¹çš„ Eth2 å­˜æ¬¾åˆåŒåœ°å€æ˜¯å¦æ­£ç¡®ã€‚[`0x000000219ab540356cB839Cbe05303d7705Fa`](https://etherscan.io/address/0x00000000219ab540356cbb839cbe05303d7705fa)
{% endhint %}

{% hint style="danger" %}
è¯·åŠ¡å¿…å†™ä¸‹æˆ–å½•åˆ¶æ‚¨çš„åŠ©è®°ç§å­ **ç¦»çº¿**ã€‚ _ä¸æ˜¯ç”µå­é‚®ä»¶ã€‚ æœªäº‘ã€‚_

è®© **è„±æœºå¤‡ä»½**, ä¾‹å¦‚æ‚¨çš„ **çš„ USB å¯†é’¥ã€‚`validator_key`** \`\`directory.
{% endhint %}

## ğŸ›¸ 3. Install a ETH1 node

{% hint style="info" %}
ä»¥å¤ªåŠ2.0éœ€è¦è¿æ¥åˆ°ä»¥å¤ªåŠ1.0ï¼Œæ‰èƒ½ç›‘è§†32ä¸ªETHéªŒè¯å™¨å­˜æ¬¾ã€‚ æ‰˜ç®¡æ‚¨è‡ªå·±çš„Ethereum 1.0 èŠ‚ç‚¹æ˜¯æœ€å¤§é™åº¦åœ°ä¸‹æ”¾æƒåŠ›å’Œå°½é‡å‡å°‘å¯¹å› å¯Œæ‹‰ç­‰ç¬¬ä¸‰æ–¹ä¾èµ–çš„æœ€ä½³é€”å¾„ã€‚
{% endhint %}

{% hint style="warning" %}
éšåçš„æ­¥éª¤å‡å®šæ‚¨å·²å®Œæˆäº† [æœ€ä½³åšæ³•å®‰å…¨æŒ‡å—](guide-or-security-best-practices-for-a-eth2-validator-beaconchain-node.md)ã€‚
{% endhint %}

æ‚¨çš„é€‰æ‹© [**OpenEthereum**](https://www.parity.io/ethereum/)**** [**Geth**](https://geth.ethereum.org/)**,** [**åˆ«æ–¯åº“**](https://besu.hyperledger.org/) **æˆ–** [**è·å…°**](https://www.nethermind.io/)**.**

{% tabs %}
{% tab title="OpenEtherum\(parity\)" %}
#### ğŸ¤– å®‰è£…å¹¶è¿è¡Œ OpenEtherum.

```text
mkdir ~/openetherum && cd ~/openeysethum
wget https://github.com/openetherum/openetherum/releases/download/v3.0.1/openetherum-linux-v3.0.1.zip
unzip openetherum*.zip
chmod +x openenethereum
rm openeumeneum *.zip
```

âš™ **è®¾ç½®å¹¶é…ç½® systemd**

è¿è¡Œä¸‹é¢çš„æ“ä½œæ¥åˆ›å»ºä¸€ä¸ª **å•å…ƒæ–‡ä»¶** æ¥å®šä¹‰æ‚¨çš„ `E1.service` é…ç½®ã€‚

```bash
cat > $HOME/eth1.service << EOF 
[Unit]
Description     = openethereum eth1 service
Wants           = network-online.target
After           = network-online.target 

[Service]
User            = $(whoami)
WorkingDirectory= /home/$(whoami)/openethereum
ExecStart       = /home/$(whoami)/openethereum/openethereum --chain foundation
Restart         = on-failure

[Install]
WantedBy    = multi-user.target
EOF
```

ç§»åŠ¨å•ä½æ–‡ä»¶åˆ° `/etc/system/system/system` å¹¶æˆäºˆå®ƒæƒé™ã€‚

```bash
sudo mv $HOME/eth1.service /etc/systemd/system/eth1.service
```

```bash
sudo chmod 644 /etc/systemd/system/eth1.service
```

è¿è¡Œä»¥ä¸‹ä»¥å¯ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚

```text
sudo systemctl daemon-reload
sudo systemctl å¯ç”¨eth1
```

#### :chainsï¼šåœ¨ä¸»æœºä¸Šå¯åŠ¨ OpenEthereum

```text
sudo systemctl èµ·å§‹eth1
```
{% endtab %}

{% tab title="Geth" %}
#### ğŸ§¬ ä»èµ„æºåº“å®‰è£…ã€‚

```text
sudo additional apt-reposite-y pa:etherum/eysuthum
sudo apt-get update -y
sudo apt-get install etherum -y
```

âš™ **è®¾ç½®å¹¶é…ç½® systemd**

è¿è¡Œä¸‹é¢çš„æ“ä½œæ¥åˆ›å»ºä¸€ä¸ª **å•å…ƒæ–‡ä»¶** æ¥å®šä¹‰æ‚¨çš„ `E1.service` é…ç½®ã€‚

```bash
cat > $HOME/eth1.service << EOF 
[Unit]
Description     = geth eth1 service
Wants           = network-online.target
After           = network-online.target 

[Service]
User            = $(whoami)
ExecStart       = /usr/bin/geth --rpc --http
Restart         = on-failure

[Install]
WantedBy    = multi-user.target
EOF
```

ç§»åŠ¨å•ä½æ–‡ä»¶åˆ° `/etc/system/system/system` å¹¶æˆäºˆå®ƒæƒé™ã€‚

```bash
sudo mv $HOME/eth1.service /etc/systemd/system/eth1.service
sudo chmod 644 /etc/systemd/system/eth1.service
```

è¿è¡Œä»¥ä¸‹ä»¥å¯ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚

```text
sudo systemctl daemon-reload
sudo systemctl å¯ç”¨eth1
```

#### :chainsï¼šä»ä¸»æœºä¸Šå¼€å§‹æ¸¸æˆã€‚

```text
sudo systemctl èµ·å§‹eth1
```
{% endtab %}

{% tab title="Besu" %}
#### ğŸ§¬ å®‰è£… java ä¾èµ–å…³ç³»ã€‚

```text
sudo apt install openjdk-11-jdk
```

#### :last_quarter_moon_faceï¼šä¸‹è½½å¹¶è§£å‹åˆ«æ–¯ã€‚

```text
cd
wget -O besu.tar.gz https://biny.com/hyledger-org/besu-repo/download_file?file_path=besu-1.5.0.tar.gz
tar -xvf besu.tar.gz
rm besu.tar.gz
mv besu-1.5.0 besu
```

âš™ **è®¾ç½®å¹¶é…ç½® systemd**

è¿è¡Œä¸‹é¢çš„æ“ä½œæ¥åˆ›å»ºä¸€ä¸ª **å•å…ƒæ–‡ä»¶** æ¥å®šä¹‰æ‚¨çš„ `E1.service` é…ç½®ã€‚

```bash
cat > $HOME/eth1.service << EOF 
[Unit]
Description     = openethereum eth1 service
Wants           = network-online.target
After           = network-online.target 

[Service]
User            = $(whoami)
WorkingDirectory= /home/$(whoami)/besu/bin
ExecStart       = /home/$(whoami)/besu/bin/besu --data-path="$HOME/.ethereum_besu"
Restart         = on-failure

[Install]
WantedBy    = multi-user.target
EOF
```

ç§»åŠ¨å•ä½æ–‡ä»¶åˆ° `/etc/system/system/system` å¹¶æˆäºˆå®ƒæƒé™ã€‚

```bash
sudo mv $HOME/eth1.service /etc/systemd/system/eth1.service
sudo chmod 644 /etc/systemd/system/eth1.service
```

è¿è¡Œä»¥ä¸‹ä»¥å¯ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ã€‚

```text
sudo systemctl daemon-reload
sudo systemctl å¯ç”¨eth1
```

#### :chainsï¼šåœ¨ä¸»ç½‘ä¸Šå¼€å§‹Besuã€‚

```text
sudo systemctl èµ·å§‹eth1
```
{% endtab %}

{% tab title="Nethermind" %}
#### âš™ å®‰è£…ä¾èµ–é¡¹ã€‚

```text
sudo apt-get æ›´æ–° && sudo apt-get install libsnappy-dev libc6-dev unzip -y
```

#### :last_quarter_moon_faceï¼šä¸‹è½½å¹¶è§£å‹ç¼©è·å…°çš„æƒ³æ³•ã€‚

```text
mkdir ~/nethermind && cd ~/nethermind
wget -O nethermind.zip https://nethdev.blob.core.core.windows.net/builds/nethermind-linux-amd64-1.8.77-9d3a58a.zip
unzip nethermind.zip
rm nethermind.zip
```

#### ğŸ›¸ launching Netherlands.

```text
./Nethermind.Launcher
```

* é€‰æ‹© `ä»¥å¤ªèŠ‚ç‚¹`
* é€‰æ‹© `Ethereum (mainnet)` ç„¶åé€‰æ‹© `å¿«é€ŸåŒæ­¥`
* æ˜¯è¦å¯ç”¨ web3 / JSON RPC
* æ¥å—é»˜è®¤IP
* è·³è¿‡æ—è£”ç»Ÿè®¡æ³¨å†Œ
{% endtab %}

{% tab title="Minimum Hardware Setup" %}
{% hint style="info" %}
Infuraé€‚åˆæœ‰é™çš„ç£ç›˜ç©ºé—´è®¾ç½®ã€‚ åœ¨å¯èƒ½æ—¶æ€»æ˜¯è¿è¡Œæ‚¨è‡ªå·±çš„å®Œæ•´çš„ eth1 èŠ‚ç‚¹ã€‚
{% endhint %}

åœ¨ [https://infura.io/](https://infura.io/) æ³¨å†ŒAPIè®¿é—®å¯†é’¥

1. æ³¨å†Œå…è´¹å¸æˆ·ã€‚
2. ç¡®è®¤æ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ã€‚
3. è®¿é—®æ‚¨çš„ä»ªè¡¨æ¿ [https://infura.io/æ§åˆ¶é¢æ¿](https://infura.io/dashboard)
4. åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œç»™å®ƒä¸€ä¸ªåç§°ã€‚
5. é€‰æ‹© **Mainnet** ä½œä¸ºENDPOINT
6. å¤åˆ¶æ‚¨çš„ API å¯†é’¥ã€‚
7. åœ¨ **å¼€å§‹ä¿¡æ ‡é“¾** éƒ¨åˆ†ä¸­æ›´æ–°å‚æ•° **http-web3provider**

```bash
#example å‚æ•°
--http-web3provider=https://infura.io/v3/<YOUR_API_KEY>
```
{% endtab %}
{% endtabs %}



{% hint style="info" %}
åŒæ­¥ eth1 èŠ‚ç‚¹å¯èƒ½éœ€è¦ 24 å°æ—¶ã€‚
{% endhint %}

{% hint style="success" %}
å‘ç”Ÿè¿™äº›äº‹ä»¶æ—¶ï¼Œæ‚¨çš„ eth1 èŠ‚ç‚¹å·²å®Œå…¨åŒæ­¥ã€‚

* **`OpenEthereum:`** `Imported #<block number>`
* **`Gethï¼š`** `å¯¼å…¥äº†æ–°é“¾æ®µ`
* **`æ­¤å¤–:`** `å¯¼å…¥çš„ #<block number>`
* **`è·å…°ï¼š`** `ä¸å†åŒæ­¥æ—§å¤´`
{% endhint %}

#### ğŸ›  å¸®åŠ©çš„ eth1.service å‘½ä»¤

:spiral_notepadï¼š **æŸ¥çœ‹å¹¶å…³æ³¨eth1æ—¥å¿—**

```text
journalctl -u eth1 -f
```

:spiral_notepadï¼š **åœæ­¢eth1æœåŠ¡**

```text
sudo systemctl stop eth1
```

{% hint style="danger" %}
ğŸ›‘ **åœ¨ç»§ç»­æœ¬æŒ‡å—å…¶ä½™éƒ¨åˆ†ä¹‹å‰, æˆ‘ä»¬å»ºè®®æ‚¨ç­‰å¾…æ›´æ¥è¿‘åäºŒæœˆä¸€æ—¥ï¼Œå› ä¸ºPrysmä»£ç æ­£åœ¨å¿«é€Ÿå‡†å¤‡ä¸»ç½‘ã€‚**ğŸš§
{% endhint %}

## ğŸ’¡ 4. Install Prysm

```bash
mkdir ~/prysm && cd ~/prysm 
curl https://raw.githubusercontent.com/prysmaticlabs/prysm/master/prysm.sh --output prysm.sh && chmod +x prysm.sh 
```

{% hint style="info" %}
Prysm æ˜¯ Ethereum 2.0 å®¢æˆ·ç«¯ï¼Œåˆ†ä¸ºä¸¤ä¸ªç»„ä»¶ã€‚

**ä¿¡æ ‡é“¾å®¢æˆ·ç«¯** - è´Ÿè´£ç®¡ç†ä¿¡æ ‡é“¾çŠ¶æ€ã€éªŒè¯å™¨éšæœºæ’åºç­‰ç­‰ã€‚

**éªŒè¯å™¨å®¢æˆ·ç«¯** - è´Ÿè´£åœ¨ä¿¡æ ‡é“¾å’Œç¢ç‰‡é“¾ä¸­ç”Ÿæˆæ–°åŒºå—å’Œè®¤è¯ã€‚
{% endhint %}

## ğŸ”¥ 5. é…ç½®ç«¯å£è½¬å‘å’Œ/æˆ–é˜²ç«å¢™

é’ˆå¯¹æ‚¨çš„ç½‘ç»œè®¾ç½®æˆ–äº‘ç«¯æä¾›å•†è®¾ç½®ï¼Œ [ç¡®ä¿æ‚¨çš„éªŒè¯å™¨é˜²ç«å¢™ç«¯å£æ˜¯æ‰“å¼€å’Œå¯è®¿é—®çš„ã€‚](guide-or-security-best-practices-for-a-eth2-validator-beaconchain-node.md#configure-your-firewall)

* **Prysm ä¿¡æ ‡é“¾èŠ‚ç‚¹** å°†ä½¿ç”¨ç«¯å£ 12000 ç”¨äºudp å’Œ tcp ç«¯å£13000
* **eth1** èŠ‚ç‚¹éœ€è¦ tcp å’Œ udp çš„ 30303 ç«¯å£

{% hint style="info" %}
:sparklesï¼š **ç«¯å£è½¬å‘æç¤ºï¼š** æ‚¨éœ€è¦è½¬å‘å¹¶æ‰“å¼€ç«¯å£åˆ°æ‚¨çš„éªŒè¯å™¨ã€‚ éªŒè¯å®ƒä½¿ç”¨ [https://www.yugetsignal.com/tools/open-ports/](https://www.yougetsignal.com/tools/open-ports/) æˆ– [https://canyousee.org/](https://canyouseeme.org/)ã€‚
{% endhint %}

## ğŸ© 6. å¯¼å…¥éªŒè¯å™¨å¯†é’¥

é€‰æ‹©æ­£ç¡®çš„å‘½ä»¤ï¼Œå–å†³äºæ‚¨å¦‚ä½•å®‰è£… **eth2å­˜æ¬¾-cli**

{% tabs %}
{% tab title="Pre-built eth2deposit-cli" %}
```bash
$HOME/prysm/prysm.sh éªŒè¯å¸æˆ·å¯¼å…¥ --keys-dir=$HOME/ eth2å­˜æ¬¾-cli-9310deb0-Linux-amd64/validator_keys
```
{% endtab %}

{% tab title="Built from source code" %}
```bash
$HOME/prysm/prysm.sh éªŒè¯å¸æˆ·å¯¼å…¥ --keys-dir=$HOME/git/eth2.0-å­˜æ¬¾-cli/validator_keys
```
{% endtab %}
{% endtabs %}

æ¥å—é»˜è®¤çš„é’±åŒ…ä½ç½®ï¼Œè¾“å…¥æ–°å¯†ç æ¥åŠ å¯†ä½ çš„é’±åŒ…ï¼Œå¹¶ä¸ºä½ çš„å¯¼å…¥å¸æˆ·è¾“å…¥å¯†ç ã€‚

{% hint style="danger" %}
**è­¦å‘Š**: ä¸è¦ä½¿ç”¨æ™®é€šé’¥åŒ™ã€‚ä¸è¦ä½¿ç”¨å…¶ä»–å¯†é’¥ã€‚æˆ–è€…ä½ æƒ³è¦ä½¿ç”¨å…¶ä»–å¯†é’¥ã€‚
{% endhint %}

## ğŸ‚ 7. å¯åŠ¨ä¿¡æ ‡é“¾ã€‚

{% hint style="warning" %}
å¦‚æœæ‚¨å‚ä¸äº†ä»»ä½•å…ˆå‰çš„æµ‹è¯•ç½‘ï¼Œæ‚¨éœ€è¦æ¸…é™¤è¯¥æ•°æ®åº“ã€‚

```bash
$HOME/prysm/prysm.sh ä¿¡æ ‡-chain --cleardb
```
{% endhint %}

æ‚¨é€‰æ‹©ä»å‘½ä»¤è¡Œæ‰‹åŠ¨è¿è¡Œä¿¡æ ‡é“¾å’ŒéªŒè¯å™¨æˆ–ä¸ç³»ç»Ÿè‡ªåŠ¨è¿è¡Œã€‚

{% tabs %}
{% tab title="Systemd - Automated" %}
#### ğŸ° ä¸ºæ‚¨çš„ä¿¡æ ‡é“¾å’ŒéªŒè¯å™¨ä½¿ç”¨ç³»ç»Ÿçš„åˆ©ç›Š <a id="benefits-of-using-systemd-for-your-stake-pool"></a>

1. åœ¨è®¡ç®—æœºå› ç»´ä¿®ã€åœç”µç­‰è€Œé‡å¯æ—¶è‡ªåŠ¨å¯åŠ¨ä¿¡æ ‡é“¾ã€‚
2. è‡ªåŠ¨é‡å¯å´©æºƒä¿¡æ ‡é“¾æµç¨‹ã€‚
3. æœ€å¤§é™åº¦åœ°æé«˜æ‚¨çš„ä¿¡æ ‡é“¾çš„æŒç»­æ—¶é—´å’Œæ€§èƒ½ã€‚

#### ğŸ›  è®¾ç½®è¯´æ˜

è¿è¡Œä»¥ä¸‹ä»¥åˆ›å»ºä¸€ä¸ª **å•å…ƒæ–‡ä»¶** æ¥å®šä¹‰æ‚¨çš„`ä¿¡æ ‡é“¾ã€‚æœåŠ¡` é…ç½®ã€‚

```bash
cat > $HOME/beacon-chain.service << EOF 
# The eth2 beacon chain service (part of systemd)
# file: /etc/systemd/system/beacon-chain.service 

[Unit]
Description     = eth2 beacon chain service
Wants           = network-online.target
After           = network-online.target 

[Service]
User            = $(whoami)
Environment     = "ClientIP=$(curl -s v4.ident.me)"
WorkingDirectory= /home/$(whoami)/prysm
ExecStart       = /home/$(whoami)/prysm/prysm.sh beacon-chain --p2p-host-ip=${ClientIP} --monitoring-host="0.0.0.0" --http-web3provider=http://127.0.0.1:8545 --accept-terms-of-use 
Restart         = on-failure

[Install]
WantedBy    = multi-user.target
EOF
```

{% hint style="info" %}
Gethç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°æ›´é«˜çš„æ€§èƒ½ï¼š

```bash
--http-web3provider=$HOME/.therum/geth.ipc
```
{% endhint %}

ç§»åŠ¨å•ä½æ–‡ä»¶åˆ° `/etc/system/system/system` å¹¶æˆäºˆå®ƒæƒé™ã€‚

```bash
sudo mv $HOME/beacon-chain.service /etc/systemd/system/beacon-chain.service
sudo chmod 644 /etc/system/system/beacon-chain.service
```

è¿è¡Œä»¥ä¸‹ä»¥å¯ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ï¼Œç„¶åå¯åŠ¨æ‚¨çš„ä¿¡æ ‡èŠ‚ç‚¹æœåŠ¡ã€‚

```text
sudo systemctl daemon-reload
sudo systemctl å¯ç”¨ä¿¡æ ‡-chain
sudo systemctl start ä¿¡æ ‡-chain
```

{% hint style="success" %}
å¥½å·¥ä½œã€‚ æ‚¨çš„ä¿¡æ ‡é“¾ç°åœ¨ç”±ç³»ç»Ÿçš„å¯é æ€§å’Œå¼ºåº¦ç®¡ç†ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨ç³»ç»Ÿçš„å‘½ä»¤ã€‚
{% endhint %}

### ğŸ›  ä¸€äº›æœ‰ç”¨çš„systemd å‘½ä»¤

#### :whit_heavy_check_mark: æ£€æŸ¥ä¿¡æ ‡é“¾æ˜¯å¦æ¿€æ´»

```text
sudo systemctl is-acon-chain
```

#### ğŸ” æŸ¥çœ‹ä¿¡æ ‡é“¾çš„çŠ¶æ€

```text
sudo systemctl çŠ¶æ€ä¿¡æ ‡
```

#### :countrockwise_arrows_buton: é‡æ–°å¯åŠ¨ä¿¡æ ‡é“¾ã€‚

```text
sudo systemctl é‡æ–°åŠ è½½æˆ–é‡æ–°å¯åŠ¨ä¿¡æ ‡
```

#### ğŸ›‘ åœæ­¢ä¿¡æ ‡é“¾ä¸­

```text
sudo systemctl stop ä¿¡æ ‡-chain
```

#### ğŸ—’ æŸ¥çœ‹å’Œè¿‡æ»¤æ—¥å¿—

```bash
journalctl --unit=beacon-chain --sun=æ˜¨å¤©
journalctl --unit=beacon-chain --sun=tay
journalctl --unit=beacon-chain --sin='2020-12-01 00:00:00' --until='2020-12-02 12:00:00'
```
{% endtab %}

{% tab title="CLI - Manual" %}
åœ¨ä¸€ä¸ªæ–°ç»ˆç«¯ä¸­å¯åŠ¨ä¿¡æ ‡é“¾ã€‚

```bash
$HOME/prysm/prysm.sh ä¿¡æ ‡é“¾\
--p2p-host-ip=$(curl -s v4.ident.me)
--http-web3provider="http://127.0.1:8545"
--monitoring-host="0.0.0.0"
--accept-terms of use
```

{% hint style="info" %}
Gethç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°æ›´é«˜çš„æ€§èƒ½ï¼š

```bash
--http-web3provider=$HOME/.therum/geth.ipc
```
{% endhint %}
{% endtab %}
{% endtabs %}

## ğŸ§¬ 8. å¯åŠ¨éªŒè¯ç¨‹åº <a id="9-start-the-validator"></a>

å°†æ‚¨çš„éªŒè¯å¯†ç å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶ä½¿å…¶æˆä¸ºåªè¯»ã€‚

```bash
echo "my_password_goes_here" > $HOME/.eth2validators/validators-password.txt
sudo chmod 600 $HOME/.eth2validators/validators-password.txt
```

æ‚¨é€‰æ‹©ä»å‘½ä»¤è¡Œæ‰‹åŠ¨è¿è¡ŒéªŒè¯å™¨æˆ–ä¸ç³»ç»Ÿè‡ªåŠ¨è¿è¡Œã€‚

{% tabs %}
{% tab title="Systemd - Automated" %}
#### ğŸ° ä½¿ç”¨ç³»ç»Ÿç»™æ‚¨çš„éªŒè¯å™¨å¸¦æ¥çš„åˆ©ç›Š <a id="benefits-of-using-systemd-for-your-stake-pool"></a>

1. å› ç»´æŠ¤ã€åœç”µç­‰åŸå› é‡å¯è®¡ç®—æœºæ—¶è‡ªåŠ¨å¯åŠ¨éªŒè¯ç¨‹åºã€‚
2. è‡ªåŠ¨é‡å¯éªŒè¯è¿›ç¨‹å´©æºƒäº†ã€‚
3. æœ€å¤§åŒ–æ‚¨çš„éªŒè¯ç¨‹åºçš„ä¸Šä¼ æ—¶é—´å’Œæ€§èƒ½ã€‚

#### ğŸ›  è®¾ç½®è¯´æ˜

è¿è¡Œä»¥ä¸‹ä»¥åˆ›å»ºä¸€ä¸ª **å•å…ƒæ–‡ä»¶** æ¥å®šä¹‰æ‚¨çš„`éªŒè¯æœåŠ¡` é…ç½®ã€‚

```bash
cat > $HOME/validatorã€‚ ervice << EOF 
# eth2 validator service (part of system)
# æ–‡ä»¶ï¼š/etc/systemd/system/validatorã€‚ ervice 

[Unit]
æè¿° = eth2 validator æœåŠ¡
Wants = ç½‘ç»œåœ¨çº¿ã€‚ arget ä¿¡æ ‡-chain.service
After = network-onlineã€‚ arget 

[Service]
ç”¨æˆ· = $(whoami)
WorkingDirectory= /home/$(whoami)/ prysm
ExecStart = /home/$(whoami)/prysm/prysm. h validator --accept-terms of use --wallet-passward-file /home/$(whoami)/.eth2validators/validators-password xt
é‡å¯ = å‘ç”Ÿæ•…éšœ

[Install]
WantedBy = å¤šç”¨æˆ·ã€‚ arget
EOF
```

ç§»åŠ¨å•ä½æ–‡ä»¶åˆ° `/etc/system/system/system` å¹¶æˆäºˆå®ƒæƒé™ã€‚

```bash
sudo mv $HOME/validator.service /etc/systemd/system/validator.service
sudo chmod 644 /etc/systemd/system/validator.service
```

è¿è¡Œä»¥ä¸‹ä»¥å¯ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ï¼Œç„¶åå¯åŠ¨æ‚¨çš„éªŒè¯å™¨ã€‚

```text
sudo systemctl daemon-reload
sudo systemctl å¯ç”¨éªŒè¯å™¨
sudo systemctl start validator
```

### ğŸ›  ä¸€äº›æœ‰ç”¨çš„systemd å‘½ä»¤

#### :whit_heavy_check_mark: æ£€æŸ¥éªŒè¯å™¨æ˜¯å¦æ¿€æ´»

```text
sudo systemctl is-activated validator
```

#### ğŸ” æŸ¥çœ‹éªŒè¯å™¨çŠ¶æ€

```text
sudo systemctl status validator
```

#### :countrockwise_arrows_buton: é‡æ–°å¯åŠ¨éªŒè¯å™¨

```text
sudo systemctl é‡æ–°åŠ è½½æˆ–é‡æ–°å¯åŠ¨éªŒè¯å™¨
```

#### ğŸ›‘ åœæ­¢éªŒè¯å™¨

```text
sudo systemctl stop validator
```

#### ğŸ—„ æŸ¥çœ‹å’Œè¿‡æ»¤æ—¥å¿—

```bash
journalctl --unit=validator --sin=æ˜¨å¤©
journalctl --un=validator --sin=tay
journalctl --unit=validator --sin='2020-12-01 00:00' --until='2020-12-02 12:00:00'
```
{% endtab %}

{% tab title="CLI - Manual" %}
åœ¨æ–°çš„ç»ˆç«¯ä¸­ï¼Œå¯åŠ¨éªŒè¯å™¨ã€‚

```bash
$HOME/prysm/prysm.sh validator \
--accept-terms of use \
--wallet-password-file /home/$(whoami)/.eth2validators/validators-password.txt
```
{% endtab %}
{% endtabs %}

éªŒè¯æ‚¨çš„ **éªŒè¯å™¨å…¬é’¥** æ˜¯å¦å‡ºç°åœ¨æ—¥å¿—ä¸­ã€‚ ä¸‹é¢ç¤ºä¾‹ï¼š

```text
INFO å¯ç”¨éªŒè¯å™¨æŠ•ç¥¨ pubkey: 0x2374...7121
```

{% hint style="info" %}
**éªŒè¯å™¨å®¢æˆ·ç«¯** - è´Ÿè´£åœ¨ä¿¡æ ‡é“¾å’Œç¢ç‰‡é“¾ä¸­ç”Ÿæˆæ–°åŒºå—å’Œè®¤è¯ã€‚

**ä¿¡æ ‡é“¾å®¢æˆ·ç«¯** - è´Ÿè´£ç®¡ç†ä¿¡æ ‡é“¾çŠ¶æ€ã€éªŒè¯å™¨éšæœºæ’åºç­‰ç­‰ã€‚
{% endhint %}

{% hint style="success" %}
æ­å–œã€‚ ä¸€æ—¦æ‚¨çš„ä¿¡æ ‡é“¾å·²åŒæ­¥ï¼ŒéªŒè¯å™¨å·²ä¸Šä¼ å¹¶è¿è¡Œï¼Œæ‚¨åªéœ€ç­‰å¾…æ¿€æ´»ã€‚ è¿™ä¸ªè¿‡ç¨‹éœ€è¦é•¿è¾¾24å°æ—¶ã€‚ å½“æ‚¨è¢«æŒ‡æ´¾æ—¶ï¼Œæ‚¨çš„éªŒè¯å™¨å°†å¼€å§‹åˆ›å»ºå¹¶æŠ•ç¥¨æ–¹å—ï¼ŒåŒæ—¶è·å¾—ETH staking å¥–åŠ±

ä½¿ç”¨ [ä¿¡æ ‡ã€‚in](https://beaconcha.in/) and [æ³¨å†Œä¸€ä¸ªå¸æˆ·](https://beaconcha.in/register) æ¥åˆ›å»ºè­¦æŠ¥å¹¶è·Ÿè¸ªæ‚¨çš„éªŒè¯å™¨æ€§èƒ½ã€‚
{% endhint %}

## ğŸ•’ 9. æ—¶é—´åŒæ­¥

{% hint style="info" %}
å› ä¸ºä¿¡æ ‡é“¾ä¾é å‡†ç¡®çš„æ—¶é—´æ¥è¿›è¡Œè¯æ˜å’Œåˆ¶ä½œåŒºå—ï¼Œ æ‚¨çš„è®¡ç®—æœºæ—¶é—´å¿…é¡»å‡†ç¡®åˆ°å®é™…NTP æˆ– NTS æ—¶é—´åœ¨ 0 ä¹‹é—´ã€‚ ç§’ã€‚
{% endhint %}

å®‰è£… **Chrony** å¸¦æœ‰ä»¥ä¸‹æŒ‡å—ã€‚

{% hint style="info" %}
æ—¶é—´æ˜¯ç½‘ç»œæ—¶é—´åè®®çš„æ‰§è¡Œï¼Œæœ‰åŠ©äºä½¿æ‚¨çš„è®¡ç®—æœºæ—¶é—´ä¸NTPä¿æŒåŒæ­¥ã€‚
{% endhint %}

## ğŸ” 10. ç”¨Grafana å’Œ Prometheus ç›‘è§†æ‚¨çš„éªŒè¯å™¨

Prometheus æ˜¯ä¸€ä¸ªç›‘æµ‹å¹³å°ï¼Œå®ƒé€šè¿‡æ‹†å¸å…³äºè¿™äº›ç›®æ ‡çš„è®¡é‡æ ‡å‡†HTTPç«¯ç‚¹ï¼Œä»å—ç›‘æµ‹çš„ç›®æ ‡æ”¶é›†è®¡é‡ã€‚ [å®˜æ–¹æ–‡æ¡£å¯åœ¨è¿™é‡Œè·å–](https://prometheus.io/docs/introduction/overview/) Grafana æ˜¯ä¸€ä¸ªç”¨äºå¯è§†åŒ–æ”¶é›†æ•°æ®çš„ä»ªè¡¨ç›˜ã€‚

### ğŸ£ 10.1 å®‰è£…

å®‰è£… prometheus å’Œ prometheus èŠ‚ç‚¹å¯¼å‡ºå™¨ã€‚

```text
sudo apt-get install -y promeus promeus-node-exporter
```

å®‰è£…Grafanaã€‚

```bash
wget -q -O - https://pack.grafana.com/gpg.key | sudo apt-key added -
echo "deb https://packes.grafana.com/oss/deb stable main" > grafana. ist
sudo mv grafana.list /etc/apt/sources.list.d/grafana.list
sudo apt-get update && sudo apt-get install -y grafana
```

å¯ç”¨æœåŠ¡ä»¥ä¾¿è‡ªåŠ¨å¯åŠ¨ã€‚

```bash
sudo systemctl å¯ç”¨gramana-server.service
sudo systemctl enable prometheus.service
sudo systemctl enablish prometheus-node-exportter.service
```

æ›´æ–° **promeus.yml** åˆ†åˆ«ä½äº `/etc/prometheus.yml`

```bash
cat > $HOME/prometheus.yml << EOF
globalï¼š
  scrape_interval: 15s # é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰«ææ¯15ç§’ã€‚

  # åœ¨ä¸
  # å¤–éƒ¨ç³»ç»Ÿé€šä¿¡æ—¶å°†è¿™äº›æ ‡ç­¾é™„åŠ åˆ°ä»»ä½•æ—¶é—´åºåˆ—æˆ–è­¦æŠ¥(æ’åºã€è¿œç¨‹å­˜å‚¨ã€è­¦æŠ¥ç®¡ç†å™¨)ã€‚
  å¤–éƒ¨æ ‡ç­¾ï¼š
    æ˜¾ç¤ºå™¨ï¼š'codelab-monitor'

# ä¸€ä¸ªåŒ…å«åˆ°scrapeçš„ä¸€ä¸ªç«¯ç‚¹çš„æ‰«æé…ç½®ï¼š
# è¿™é‡Œæ˜¯Prometheusæœ¬èº«ã€‚
scrape_configs:
  - job_name: 'node_exporter'
    static_configs:
      - targets: ['localhost:9100']
  - job_name: 'validator'
    static_configs:
      - targets: ['localhost:8081']
  - job_name: 'beacon node'
    static_configs:
      - targets: ['localhost:808080']
  - job_name: 'slasher'
    static_configs:
      - targets: ['localhost:8082']
EOF
sudo mv $HOME/promethus. ml /etc/promeus/prometheus.yml
```

æœ€åï¼Œé‡æ–°å¯åŠ¨æœåŠ¡ã€‚

```bash
sudo systemctl é‡å¯ gravana-server.service
sudo systemctl é‡å¯ prometheus.service
sudo systemctl é‡å¯ prometheus-node-exportter.service
```

éªŒè¯æœåŠ¡è¿è¡Œæ­£å¸¸ï¼š

```text
sudo systemctl status grafana-server.service prometheus.service prometheus-node-exportter.service
```

{% hint style="info" %}
ğŸ’¡ **æé†’**: å¦‚æœæ‚¨æ‰“ç®—ä»å¦ä¸€å°æœºå™¨æŸ¥çœ‹ç›‘è§†ä¿¡æ¯ï¼Œè¯·ç¡®ä¿åœ¨é˜²ç«å¢™å’Œ/æˆ–è½¬å‘ç«¯å£ä¸Šæ‰“å¼€3000ç«¯å£ã€‚
{% endhint %}

### :nava_bars: 10.2 è®¾ç½® Grafana ä»ªè¡¨æ¿

1. åœ¨æ‚¨çš„æœ¬åœ°æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æˆ– [http://&lt;your](http://<your) validator's ip address&gt;:3000ã€‚
2. ä½¿ç”¨ **ç®¡ç†å‘˜** / **ç®¡ç†å‘˜ç™»å½•**
3. æ›´æ”¹å¯†ç 
4. ç‚¹å‡» **é…ç½®è®¾å¤‡** å›¾æ ‡ï¼Œç„¶å **æ·»åŠ æ•°æ®æº**
5. é€‰æ‹© **Prometheus**
6. å°† **åç§°** è®¾ç½®ä¸º **"Prometheus**"
7. å°† **URL** è®¾ç½®ä¸º [http://localhost:9090](http://localhost:9090)
8. ç‚¹å‡» **ä¿å­˜ & æµ‹è¯•**
9. **ä¸‹è½½å¹¶ä¿å­˜** æ­¤ [**json æ–‡ä»¶**](https://raw.githubusercontent.com/GuillaumeMiralles/prysm-grafana-dashboard/master/less_10_validators.json)**.** æˆ–è€…å¦‚æœæ‚¨æ‹¥æœ‰è¶…è¿‡ 10 ä¸ªéªŒè¯ç¨‹åºï¼Œè¯·ä½¿ç”¨æ­¤ [json æ–‡ä»¶](https://raw.githubusercontent.com/GuillaumeMiralles/prysm-grafana-dashboard/master/more_10_validators.json)ã€‚
10. ç‚¹å‡» **åˆ›å»º +** å›¾æ ‡ &gt; **å¯¼å…¥**
11. é€šè¿‡ **æ·»åŠ ä»ªè¡¨æ¿ä¸Šä¼  JSON æ–‡ä»¶**
12. ç‚¹å‡» **å¯¼å…¥** æŒ‰é’®ã€‚

![Prysm ä»ªè¡¨æ¿](../../.gitbook/assets/prysm_dash.png)

### âš  10.3 å®‰è£…æé†’é€šçŸ¥

{% hint style="info" %}
è®¾ç½®æé†’ä»¥åœ¨æ‚¨çš„éªŒè¯å™¨ç¦»çº¿æ—¶è·å¾—é€šçŸ¥ã€‚
{% endhint %}

è·å–éªŒè¯ç¨‹åºé—®é¢˜çš„é€šçŸ¥ã€‚ é€‰æ‹©ç”µå­é‚®ä»¶ã€ç”µæŠ¥ã€ä¸å’Œæˆ–æ˜¯slackã€‚

{% tabs %}
{% tab title="Email Notifications" %}
1. è®¿é—® [https://ä¿¡æ ‡.in/](https://beaconcha.in/)
2. æ³¨å†Œ ****ä¸ºä¸€ä¸ª **å¸æˆ·**
3. éªŒè¯æ‚¨çš„ **ç”µå­é‚®ä»¶**
4. æœç´¢æ‚¨çš„ **éªŒè¯å™¨çš„å…¬å¼€åœ°å€**
5. ç‚¹å‡» **ä¹¦ç­¾ç¬¦å·** å°†éªŒè¯å™¨æ·»åŠ åˆ°æ‚¨çš„è§‚å¯Ÿåˆ—è¡¨ã€‚
{% endtab %}

{% tab title="Telegram Notifications" %}
1. åœ¨ Grafana èœå•ä¸­ï¼Œåœ¨é“ƒå£°å›¾æ ‡ä¸‹é€‰æ‹© **ä¸ªé€šçŸ¥é¢‘é“**ã€‚ ![](../../.gitbook/assets/gra-noti.png)
2. ç‚¹å‡» **æ·»åŠ é¢‘é“**ã€‚
3. ç»™é€šçŸ¥é¢‘é“ä¸€ä¸ª **åç§°**ã€‚
4. ä»ç±»å‹åˆ—è¡¨ä¸­é€‰æ‹© **Telegram**ã€‚
5. è¦å®Œæˆ **Telegram API è¨­å®š**ï¼Œéœ€è¦ä¸€ä¸ª Telegram é »é“å’Œæ©Ÿå™¨äººã€‚ å…³äºä½¿ç”¨ `@Botfather`çš„æœºå™¨äººè®¾ç½®çš„è¯´æ˜ï¼Œè¯·å‚é˜… [Telegram æ–‡æ¡£çš„](https://core.telegram.org/bots#6-botfather) éƒ¨åˆ†ã€‚
6. å®Œæˆåï¼Œé‚€è¯·æœºå™¨äººè¿›å…¥æ–°åˆ›å»ºçš„é¢‘é“ã€‚
{% endtab %}

{% tab title="Discord Notifications" %}
1. åœ¨ Grafana èœå•ä¸­ï¼Œåœ¨é“ƒå£°å›¾æ ‡ä¸‹é€‰æ‹© **ä¸ªé€šçŸ¥é¢‘é“**ã€‚ ![](../../.gitbook/assets/gra-noti.png)
2. ç‚¹å‡» **æ·»åŠ é¢‘é“**ã€‚
3. åœ¨é€šçŸ¥é¢‘é“ä¸­æ·»åŠ  **åç§°**ã€‚
4. ä»ç±»å‹åˆ—è¡¨ä¸­é€‰æ‹© **Discord**ã€‚
5. è¦å®Œæˆè®¾ç½®ï¼Œéœ€è¦ä¸€ä¸ª Discord æœåŠ¡å™¨ \(å’Œæ–‡æœ¬é¢‘é“å¯ç”¨\) å’Œ Webhook URLã€‚ For instructions on setting up a Discord's Webhooks, see [this section](https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks) of their documentation.
6. åœ¨ Discord é€šçŸ¥è®¾ç½®é¢æ¿ä¸­è¾“å…¥ Webhook **URL**ã€‚
7. ç‚¹å‡» **å‘é€æµ‹è¯•**, ä»¥ä¾¿å°†ç¡®è®¤æ¶ˆæ¯æ¨é€åˆ° Discord é¢‘é“ã€‚
{% endtab %}

{% tab title="Slack Notifications" %}
1. åœ¨ Grafana èœå•ä¸­ï¼Œåœ¨é“ƒå£°å›¾æ ‡ä¸‹é€‰æ‹© **ä¸ªé€šçŸ¥é¢‘é“**ã€‚ ![](../../.gitbook/assets/gra-noti.png)
2. ç‚¹å‡» **æ·»åŠ é¢‘é“**ã€‚
3. åœ¨é€šçŸ¥é¢‘é“ä¸­æ·»åŠ  **åç§°**ã€‚
4. ä»ç±»å‹åˆ—è¡¨ä¸­é€‰æ‹© **Slack**ã€‚
5. å…³äºè®¾ç½®Slackä¼ å…¥Webhooksçš„æŒ‡ç¤ºï¼Œè¯·å‚é˜… [ä»–ä»¬çš„æ–‡æ¡£](https://api.slack.com/messaging/webhooks) éƒ¨åˆ†ã€‚
6. è¾“å…¥ **URL** å­—æ®µä¸­çš„ Slack ä¼ å…¥çš„ Webhook URLã€‚
7. ç‚¹å‡» **å‘é€æµ‹è¯•**, ä»¥ä¾¿å°†ç¡®è®¤æ¶ˆæ¯æ¨é€åˆ° Slack é¢‘é“ã€‚
{% endtab %}
{% endtabs %}

{% hint style="success" %}
:party_poper: æ­å–œæ‚¨è®¾ç½®éªŒè¯å™¨ï¼ ä½ å¾ˆé«˜å…´ç»§ç»­ä½¿ç”¨ eth2.0 ã€‚

ä½ è§‰å¾—æˆ‘ä»¬çš„æŒ‡å—æœ‰ç”¨å—ï¼Ÿ è®©æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªå°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°å°ï¼Œæˆ‘ä»¬ä¼šä¸æ–­æ›´æ–°å®ƒã€‚

ä½¿ç”¨ [cointr.ee æ‰¾åˆ°æˆ‘ä»¬çš„æèµ  ](https://cointr.ee/coincashew)ä¸ªåœ°å€ã€‚ ğŸ™Œ

ä»»ä½•åé¦ˆå’Œæ‰€æœ‰æ‹‰å–è¯·æ±‚éƒ½éå¸¸æ„Ÿæ¿€ã€‚ ğŸ˜ƒ

åœ¨ç”µæŠ¥@ä¸ŠæŒ‚èµ·å¹¶ä¸ä»–äººèŠå¤© [https://t.me/coincashew](https://t.me/coincashew) :first_quarter_moon_face
{% endhint %}

## ğŸ§™â™‚ 11. æ­£åœ¨æ›´æ–°Prysm

æŒ‰ç…§æ­£å¸¸æ“ä½œç¨‹åºé‡æ–°å¯åŠ¨ä¿¡æ ‡é“¾å’ŒéªŒè¯å™¨ã€‚

{% tabs %}
{% tab title="Systemd - Automated" %}
```text
sudo systemctl é‡æ–°åŠ è½½æˆ–é‡æ–°å¯åŠ¨ä¿¡æ ‡é“¾
sudo systemctl é‡æ–°åŠ è½½æˆ–é‡æ–°å¯åŠ¨éªŒè¯å™¨
```
{% endtab %}

{% tab title="CLI - Manual" %}
```bash
#Control C é€€å‡ºä¿¡æ ‡é“¾å’ŒéªŒè¯å™¨è¿›ç¨‹ 
#æŒ‰ä¸Šç®­å¤´è¿›å…¥é‡å¯ã€‚
```
{% endtab %}
{% endtabs %}

## ğŸ§© 12. å‚è€ƒææ–™

èµèµä¼˜ç§€æ°‘ä¿—åœ¨ä»¥ä¸‹é“¾æ¥æ‰€åšçš„è‰°è‹¦å·¥ä½œï¼Œä»¥æ­¤ä½œä¸ºç¼–å†™æœ¬æŒ‡å—çš„åŸºç¡€ã€‚

{% åµŒå…¥çš„ url="https://discord.gg/KSA7rPr" %}

{% åµŒå…¥çš„ url="https://launchpad.eysum.org/" caption="" %}

{% åµŒå…¥çš„ url="https://prylabs.net/participate" %}

{% åµŒå…¥çš„ url="https://docs.prylabs.network/docs/getting-started/" %}

## ğŸ‰ 13. çº¢åŒ…é“¾æ¥

### ğŸŒ° CoinCashew Guides for other ETH2 Clients

{% page-ref page="guide-how-to-stake-on-eth2-with-lighthouse.md" %}

{% page-ref page="guide-how-to-stake-on-eth2-with-teku-on-ubuntu.md" %}

{% page-ref page="guide-how-to-stake-on-eth2-with-nimbus.md" %}

{% page-ref page="guide-how-to-stake-on-eth2-with-lodestar.md" %}

### ğŸ§± ETH2 åŒºå—æµè§ˆå™¨

{% åµŒå…¥çš„ url="https://ä¿¡æ ‡.in" æ ‡é¢˜="" %}

{% åµŒå…¥çš„ url="https://ä¿¡æ ‡scan.com" æ ‡é¢˜="" %}

### ğŸ—’ æœ€æ–°Eth2 ä¿¡æ¯

{% embed url="https://www.reddit.com/r/ethstaker" caption="" %}

{% åµŒå…¥çš„ url="https://blog.eferum.org" å­—å¹•="" %}

{% åµŒå…¥çš„ url="http://invite.gg/ethstaker" å­—å¹•="" %}

{% åµŒå…¥çš„ url="https://hackmd.io/@benjaminion/eth2\_news/" caption="" %}

## ğŸ”¥ 14. å…¶ä»–æœ‰ç”¨çš„æç¤º

### ğŸ›‘ 14.1 è‡ªæ„¿é€€å‡ºéªŒè¯å™¨

{% hint style="info" %}
ä½¿ç”¨æ­¤å‘½ä»¤è¡¨ç¤ºæ‚¨æ‰“ç®—åœæ­¢ä¸æ‚¨çš„éªŒè¯å™¨éªŒè¯ã€‚ è¿™æ„å‘³ç€æ‚¨ä¸å†æƒ³è¦ä¸æ‚¨çš„éªŒè¯å™¨å…³è”ï¼Œæƒ³è¦å…³é—­æ‚¨çš„èŠ‚ç‚¹ã€‚

* è‡ªæ„¿é€€å‡ºè‡³å°‘éœ€è¦ 2048 epochs \(æˆ–~9days \)ã€‚ åœ¨æ‚¨çš„éªŒè¯ç¨‹åºæœ€ç»ˆé€€å‡ºä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªè¦é€€å‡ºçš„é˜Ÿåˆ—å’Œå»¶è¿Ÿã€‚
* ä¸€æ—¦éªŒè¯å™¨åœ¨é˜¶æ®µ0é€€å‡ºï¼Œè¿™æ˜¯ä¸å¯é€†è½¬çš„ï¼Œæ‚¨æ— æ³•é‡æ–°å¼€å§‹éªŒè¯ã€‚
* æ‚¨çš„èµ„é‡‘å°†åœ¨1.5æˆ–æ›´é«˜é˜¶æ®µå‰æ— æ³•ææ¬¾ã€‚
* åœ¨æ‚¨çš„éªŒè¯å™¨ç¦»å¼€å‡ºå£é˜Ÿåˆ—å¹¶çœŸæ­£é€€å‡ºåï¼Œå…³é—­æ‚¨çš„ä¿¡æ ‡èŠ‚ç‚¹å’ŒéªŒè¯å™¨æ˜¯å®‰å…¨çš„ã€‚
{% endhint %}

```bash
$HOME/prysm/prysm.sh éªŒè¯å¸æˆ·è‡ªæ„¿é€€å‡º
```

### ğŸ” 14.2 éªŒè¯æ‚¨çš„åŠ©è®°è¯

ä½¿ç”¨ eth2seosit-cli å·¥å…·æ¥æ¢å¤æ‚¨çš„ `validator_key` ä»¥ç¡®ä¿æ‚¨å¯ä»¥é‡æ–°ç”Ÿæˆç›¸åŒçš„ eth2 é”®å¯¹ã€‚

```bash
./å­˜æ¬¾ existing-mnemonic --chain mainnet
```

{% hint style="info" %}
å½“ **pubkey** ç›¸åŒæ—¶ï¼Œè¿™æ„å‘³ç€æ‚¨çš„ **å¯†é’¥å­˜å‚¨æ–‡ä»¶** æ‚¨æ­£ç¡®åœ°éªŒè¯äº†æ‚¨çš„å¯†è¯­å¥ã€‚ å…¶ä»–å­—æ®µå› ä¸ºæ‰“æŠ˜è€Œä¸åŒã€‚
{% endhint %}

### ğŸ¤– 14.3 æ·»åŠ é¢å¤–çš„éªŒè¯å™¨

ä½¿ç”¨ eth2dosit-cli å·¥å…·ï¼Œæ‚¨å¯ä»¥é€šè¿‡åˆ›å»ºæ–°çš„å­˜æ¬¾æ•°æ®æ–‡ä»¶å’Œ `validator_keys` æ¥æ·»åŠ æ›´å¤šçš„éªŒè¯å™¨

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ€åˆåˆ›å»ºäº†3ä¸ªéªŒè¯å™¨ï¼Œä½†ç°åœ¨å¸Œæœ›æ·»åŠ 5ä¸ªéªŒè¯å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ã€‚

```bash
./life existing-mnemonic --validator_start_index 3 --num_validators 5 --chain mainnet
```

å®Œæˆä¸Šä¼  `deposit_data-#########.json` åˆ°å‘å°„å°ç«™çš„æ­¥éª¤ã€‚

