---
description: >-
  eth1 nodes grow quickly. Run this process to prune the blockchain and free up space.
---

# How to free up eth1 node disk space with pruning

## Quick steps guide

{% hint style="info" %}
ä»¥ä¸‹æ­¥éª¤ä¸æˆ‘ä»¬çš„ [ä¸»æœºæŒ‡å—](./) ä¸€è‡´ã€‚ æ‚¨å¯èƒ½éœ€è¦é…Œæƒ…è°ƒæ•´æ–‡ä»¶åç§°å’Œç›®å½•ä½ç½®ã€‚ æ ¸å¿ƒæ¦‚å¿µä¿æŒä¸å˜ã€‚
{% endhint %}

### ğŸ—¡ Why do I want to prune my eth1 node?

* Free up gigs of precious disk space. Typically 200gb or more is common.

### ğŸ¤– å‰ææ¡ä»¶

* Works with **geth** currently
* Ensure at least 30+ GB of free disk space is available otherwise database corruption may occur.

### ğŸš§ How to prune a eth1 node

{% hint style="info" %}
Ensure adequate failover or backup eth1 nodes are configured for use with your beacon-chain node before proceeding. geth is offline and unavailable during this process.
{% endhint %}

1. Note how much disk space is currently used and stop the eth1 node

```text
df
sudo service eth1 stop
```

2. Backup your current eth1 unit file

```bash
cp /etc/systemd/system/eth1.service /etc/systemd/system/eth1.service_backup
```

3. Add the prune command to the ExecStart line.

{% tabs %}
{% tab title="Geth" %}
```bash
cat > $HOME/eth1.service << EOF 
[Unit]
Description     = geth eth1 service
Wants           = network-online.target
After           = network-online.target 

[Service]
User            = $(whoami)
ExecStart       = /usr/bin/geth snapshot prune-state
Restart         = on-failure
RestartSec      = 3
TimeoutSec      = 300

[Install]
WantedBy    = multi-user.target
EOF
```
{% endtab %}
{% endtabs %}

4. Move the unit file to /etc/systemd/system, give it proper permissions and reload.

```bash
sudo mv $HOME/eth1.service /etc/systemd/system/eth1.service
```

```bash
sudo chmod 644 /etc/systemd/system/eth1.service
sudo systemctl daemon-reload
```

5. Start the pruning process and monitor it's process.

{% hint style="warning" %}
ğŸ”¥ **Pruning Caveats**:

* Pruning can take a few hours or longer depending on your node's disk speed performance.
{% endhint %}

```bash
sudo service eth1 start
journalctl -fu eth1
```

6. Once the pruning is finished, restore the original service file and restart the eth1 service.

```bash
mv /etc/systemd/system/eth1.service_backup /etc/systemd/system/eth1.service
sudo systemctl daemon-reload
sudo service eth1 restart
```

7. Compare the disk space of the node after pruning.

```bash
df
```

{% hint style="success" %}
å¥½å·¥ä½œã€‚ Enjoy the extra disk breathing room.
{% endhint %}

## ğŸ¤– é€šè¿‡æ„å»ºä¸€ä¸ªéªŒè¯å™¨æ¥å¼€å§‹èˆè¹ˆã€‚ <a id="start-staking-by-building-a-validator"></a>

### ä¸ºæˆ‘ä»¬çš„ [ä¸»è¦æŒ‡å—](https://www.coincashew.com/coins/overview-eth/guide-or-how-to-setup-a-validator-on-eth2-mainnet) è®¿é—®æ­¤å¤„ï¼Œä¸ºæˆ‘ä»¬çš„ [æµ‹è¯•ç½‘æŒ‡å—](https://www.coincashew.com/coins/overview-eth/guide-or-how-to-setup-a-validator-on-eth2-testnet) è®¿é—®æ­¤å¤„ã€‚ <a id="visit-here-for-our-mainnet-guide-and-here-for-our-testnet-guide"></a>

{% hint style="success" %}
æ­å–œæ‚¨å®Œæˆäº†æŒ‡å—ã€‚ âœ¨

ä½ è§‰å¾—æˆ‘ä»¬çš„æŒ‡å—æœ‰ç”¨å—ï¼Ÿ å‘æˆ‘ä»¬å‘é€ä¸€ä¸ªå¸¦æœ‰æç¤ºçš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å°†ä¸æ–­æ›´æ–°å®ƒã€‚

å®ƒçœŸæ­£æ¿€åŠ±æˆ‘ä»¬ç»§ç»­åˆ›å»ºæœ€å¥½çš„åŠ å¯†æŒ‡å—ã€‚

ä½¿ç”¨ [cointr.ee æ‰¾åˆ°æˆ‘ä»¬çš„æèµ ](https://cointr.ee/coincashew) ä¸ªåœ°å€ã€‚ ğŸ™

ä»»ä½•åé¦ˆå’Œæ‰€æœ‰æ‹‰å–è¯·æ±‚éƒ½éå¸¸æ„Ÿæ¿€ã€‚ ğŸŒ›

åœ¨ Discord ä¸ŠæŒ‚èµ·å¹¶ä¸ä»–äººèŠå¤© @

é€šè¿‡[https://discord.gg/w8Bx8W2HPW](https://discord.gg/w8Bx8W2HPW) :grinning_face_with_big_eyesï¼š
{% endhint %}

